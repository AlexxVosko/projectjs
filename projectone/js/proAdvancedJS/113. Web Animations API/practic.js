/* –°–ª–æ–∂–Ω–∞—è –∑–∞–¥–∞—á–∞ –Ω–∞ –ø–æ–Ω—è—Ç–∏–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏–π —Ñ—É–Ω–∫—Ü–∏–π */

/*
<p>–í –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ –µ—Å—Ç—å —Ç–∞–∫–æ–µ –ø–æ–Ω—è—Ç–∏–µ, –∫–∞–∫ <a href="https://www.mathsisfun.com/sets/functions-composition.html">–∫–æ–º–ø–æ–∑–∏—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π</a>. –í –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ —ç—Ç–æ—Ç –ø—Ä–∏–µ–º —Ç–æ–∂–µ –ø–µ—Ä–µ–∫–æ—á–µ–≤–∞–ª –∏ —è–≤–ª—è–µ—Ç—Å—è –≤–µ—Å—å–º–∞ —É–¥–æ–±–Ω—ã–º –≤ —á–∞—Å—Ç–∏ —Å–∏—Ç—É–∞—Ü–∏–π. –ü—Ä–∏–≤–µ–¥—É –Ω–∞–≥–ª—è–¥–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∏–∑ <a href="https://itnext.io/write-better-javascript-function-composition-with-pipe-and-compose-93cc39ab16ee">—ç—Ç–æ–π</a> —Å—Ç–∞—Ç—å–∏. (–ü–æ–∫–∞ –µ—ë –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å —Ç–æ–ª—å–∫–æ –≤ –Ω–∞—á–∞–ª–µ, —Ç–∞–∫ –∫–∞–∫ —Ç–∞–º –≤—ã –Ω–∞–π–¥–µ—Ç–µ –Ω–∞—á–∞–ª–æ —Ä–µ—à–µ–Ω–∏—è üôÇ)</p>
<p>–î–æ–ø—É—Å—Ç–∏–º, —É –≤–∞—Å –µ—Å—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤ –∏—Ç–æ–≥–µ –≤—ã—á–∏—Å–ª—è—é—Ç —Å–∫–∏–¥–∫—É:</p>
    const multiply20 = (price)=>price *20;
    const devide100 = (price)=>price /100;
    const normalizePrice = (price)=>price.toFixed(2);

<p>–í –∏—Ç–æ–≥–µ –º—ã –ø–æ–ª—É—á–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –Ω–æ —ç—Ç–∞ —Ü–µ–ø–æ—á–∫–∞ –Ω–µ —Å–æ–≤—Å–µ–º —É–¥–æ–±–Ω–∞. –ê –µ—Å–ª–∏ –¥–µ–π—Å—Ç–≤–∏–π —Ç–∞–º –±—É–¥–µ—Ç –º–Ω–æ–≥–æ? –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ—ë –≤–æ—Ç —Ç–∞–∫:</p>
    result = a(b(c(x)));
    const discount = compose (normalizePrice(devide100(multiply20(200))));

<p>–ù–æ –ø—Ä–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ñ—É–Ω–∫—Ü–∏–π —ç—Ç–æ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å—Å—è –≤ –Ω–µ—á–∏—Ç–∞–µ–º—ã–π –∞–¥. –ò –≤–æ—Ç –∑–∞–¥–∞—á–∞ —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º,&nbsp;—á—Ç–æ–±—ã –Ω–∞–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é compose, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤—Å–µ —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –¥–µ–ª–∞—Ç—å —Ç–æ–∂–µ —Å–∞–º–æ–µ. –¢–æ –µ—Å—Ç—å, –æ—Ä–≥–∞–Ω–∏–∑–æ–≤—ã–≤–∞—Ç—å <strong>–∫–æ–º–ø–æ–∑–∏—Ü–∏—é</strong> —Ñ—É–Ω–∫—Ü–∏–π. <strong>–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ</strong> –Ω–∞ –ø–æ—Ä—è–¥–æ–∫ –∑–∞–ø–∏—Å–∏ —Ñ—É–Ω–∫—Ü–∏–π - –ø–æ—Å–ª–µ–¥–Ω—è—è –∑–∞–ø–∏—Å–∞–Ω–Ω–∞—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–µ—Ä–≤–æ–π –∏ –¥–∞–ª—å—à–µ —Å–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ. –í–æ–∑–º–æ–∂–Ω–æ –≤–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/reduceRight">—ç—Ç–æ</a>. </p>

const discount = compose (normalizePrice,devide100,multiply20);
discount(200.0)

<p>–§—É–Ω–∫—Ü–∏–π –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ –∏ –æ–Ω–∏ –º–æ–≥—É—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å <strong>—Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω</strong> –Ω–∞—á–∞–ª—å–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç. –¢–∞–∫ —á—Ç–æ –≤–∞—Ä–∏–∞–Ω—Ç:</p>

const compose = (a, b, c) => (x) => a(b(c(x)));
<p>–ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç, —Ç–∞–∫ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å 3–º—è —Ñ—É–Ω–∫—Ü–∏—è–º–∏.</p>

<p>P.S. –î–∞, –≤ —Ä–∞–±–æ—Ç–µ —Ç–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —É–∂–µ –≥–æ—Ç–æ–≤—ã –∑–∞ –Ω–∞—Å, –º—ã –±—É–¥–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø–æ–¥–æ–±–Ω—ã–º–∏ –≤ —á–∞—Å—Ç–∏ –ø–æ React. –ù–æ –∫–∞–∫ –æ–Ω–æ —É—Å—Ç—Ä–æ–µ–Ω–æ –∏–∑–Ω—É—Ç—Ä–∏, –¥–∞ –∏ –≤–æ–æ–±—â–µ —Ç–∞–∫–æ–µ –ø–æ–Ω—è—Ç–∏–µ –ø–æ–ª–µ–∑–Ω–æ –∑–Ω–∞—Ç—å. –õ–∏—á–Ω–æ —É –º–µ–Ω—è —Å–ø—Ä–∞—à–∏–≤–∞–ª–∏ –Ω–∞ –æ–¥–Ω–æ–º —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ –∏ –Ω–∞ —ç–∫–∑–∞–º–µ–Ω–∞—Ö –≤ —É–Ω–∏–≤–µ—Ä–µ –∫–æ–≥–¥–∞-—Ç–æ üôÇ</p>

<p><strong>–£—Å–ª–æ–∂–Ω–µ–Ω–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ!</strong></p>
<p>–°–ø—Ä–∞–≤–∏–ª–∏—Å—å —Å –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç—å—é? –•–æ—Ä–æ—à–æ, –¥–∞–≤–∞–π—Ç–µ —É—Å–ª–æ–∂–Ω–∏–º üôÇ</p>
<p>–ê —Ç–µ–ø–µ—Ä—å –Ω–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ composeWithArgs, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç <strong>—Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤</strong> –≤ –Ω–∞—á–∞–ª–µ. –ü—Ä–∏–º–µ—Ä:</p>

    const add1 = function (a){return a+1};
    const addAll3= function (a,b,c){return a+b+c};
    composeWithArgs(add1, addAll3)(1,2,3)); // –≤–µ—Ä–Ω–µ—Ç 7

–ü–æ–ª–Ω—ã–π —Ä–∞–∑–±–æ—Ä 
https://itnext.io/write-better-javascript-function-composition-with-pipe-and-compose-93cc39ab16ee
*/

// reduceRight - –º–µ—Ç–æ–¥ –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –∫ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä—É –∏ –∫–∞–∂–¥–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é –º–∞—Å—Å–∏–≤–∞ (—Å–ø—Ä–∞–≤–∞-–Ω–∞–ª–µ–≤–æ), —Å–≤–æ–¥—è –µ–≥–æ –∫ –æ–¥–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é.
// —á—Ç–æ –º—ã –¥–µ–ª–∞–µ–º, —Ç–∞–∫ —ç—Ç–æ —Ç–æ, —á—Ç–æ —Å –ø–æ–º–æ—â—å—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –º—ã –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –∞—Ä–≥—É–º–µ–Ω—Ç—ã (–Ω–∞—à–∏ —Ñ—É–Ω–∫—Ü–∏–∏) –≤ –º–∞—Å—Å–∏–≤ 
//–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç ¬´X¬ª, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞ –Ω–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ reduceRight.
// –ü–æ —Å—É—Ç–∏, –º—ã –≤—ã–ø–æ–ª–Ω—è–µ–º –∫–∞–∂–¥—É—é —Ñ—É–Ω–∫—Ü–∏—é, –ø–µ—Ä–µ–¥–∞–Ω–Ω—É—é –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞, —Å–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–π .

const compose = (...func) => (n) => func.reduceRight((result, fn)=>fn(result),n);

const composeWithArgs = (...func) => func.reduceRight((result, fn)=>(...argument) => fn(result(...argument)));